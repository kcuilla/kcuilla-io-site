<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.7.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Kyle Cuilla">

  
  
  
    
  
  <meta name="description" content="Earlier this month, I came across a striking chart from NPR that showed the historic in employment in April 2020 due to COVID-19:
Source: NPR
The chart does an excellent job of relaying how historic the drop in payroll was by highlighting the periods of economic recession and adding text labels so that the reader can easily put the drop into historical perspective.
Idea for Blog SeriesThe chart from NPR inspired me to start a blog series where I try to re-create data visualizations I come across on the internet and share my process with others.">

  
  <link rel="alternate" hreflang="en-us" href="/post/recreating-data-viz-pt1/">

  


  
  
  
  <meta name="theme-color" content="#2892f7">
  

  
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/androidstudio.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/androidstudio.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      
        
      

      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="/post/recreating-data-viz-pt1/">

  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Kyle Cuilla">
  <meta property="og:url" content="/post/recreating-data-viz-pt1/">
  <meta property="og:title" content="Re-Creating Data Visualizations Seen on the Internet - Part 1 | Kyle Cuilla">
  <meta property="og:description" content="Earlier this month, I came across a striking chart from NPR that showed the historic in employment in April 2020 due to COVID-19:
Source: NPR
The chart does an excellent job of relaying how historic the drop in payroll was by highlighting the periods of economic recession and adding text labels so that the reader can easily put the drop into historical perspective.
Idea for Blog SeriesThe chart from NPR inspired me to start a blog series where I try to re-create data visualizations I come across on the internet and share my process with others."><meta property="og:image" content="img/map[gravatar:%!s(bool=false) shape:circle]">
  <meta property="twitter:image" content="img/map[gravatar:%!s(bool=false) shape:circle]"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-05-24T21:13:14-05:00">
    
    <meta property="article:modified_time" content="2020-05-24T21:13:14-05:00">
  

  


    






  






<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/recreating-data-viz-pt1/"
  },
  "headline": "Re-Creating Data Visualizations Seen on the Internet - Part 1",
  
  "datePublished": "2020-05-24T21:13:14-05:00",
  "dateModified": "2020-05-24T21:13:14-05:00",
  
  "author": {
    "@type": "Person",
    "name": "Kyle Cuilla"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Kyle Cuilla",
    "logo": {
      "@type": "ImageObject",
      "url": "img//"
    }
  },
  "description": "Earlier this month, I came across a striking chart from NPR that showed the historic in employment in April 2020 due to COVID-19:\nSource: NPR\nThe chart does an excellent job of relaying how historic the drop in payroll was by highlighting the periods of economic recession and adding text labels so that the reader can easily put the drop into historical perspective.\nIdea for Blog Series\rThe chart from NPR inspired me to start a blog series where I try to re-create data visualizations I come across on the internet and share my process with others."
}
</script>

  

  


  


  





  <title>Re-Creating Data Visualizations Seen on the Internet - Part 1 | Kyle Cuilla</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Kyle Cuilla</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Kyle Cuilla</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item">
        <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
      </li>
      

      

    </ul>

  </div>
</nav>


  <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Re-Creating Data Visualizations Seen on the Internet - Part 1</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    May 24, 2020
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    8 min read
  </span>
  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="">R</a></span>
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      


<p>Earlier this month, I came across a striking chart from NPR that showed the historic in employment in April 2020 due to COVID-19:</p>
<p><img src="/img/source_payroll_plot.PNG" />
<i>Source: <a href="https://www.npr.org/sections/coronavirus-live-updates/2020/05/08/852430930/one-for-the-history-books-14-7-unemployment-20-5-million-jobs-wiped-away">NPR</a></i></p>
<p>The chart does an excellent job of relaying how historic the drop in payroll was by highlighting the periods of economic recession and adding text labels so that the reader can easily put the drop into historical perspective.</p>
<div id="idea-for-blog-series" class="section level2">
<h2>Idea for Blog Series</h2>
<p>The chart from NPR inspired me to start a blog series where I try to re-create data visualizations I come across on the internet and share my process with others.</p>
<p>This is part one in the series with more to come later.</p>
</div>
<div id="acquiring-the-data" class="section level2">
<h2>Acquiring the Data</h2>
<p>The Total Nonfarm Payroll data is available from the Federal Reserve Bank of St. Louis through it’s Federal Reserve Economic Data (FRED) database.</p>
<p>Loading the data in R is easy thanks to the <code>fredr</code> package which allows you to fetch data from the FRED API.</p>
<pre class="r"><code>library(fredr)</code></pre>
<p>In order to connect to the FRED API, you need to first obtain a <a href="https://research.stlouisfed.org/docs/api/api_key.html">FRED API key</a>. Once you have a key, replace the “FRED_API_KEY” below with your key number and you will be granted access to the FRED database.</p>
<pre class="r"><code>fredr_set_key(FRED_API_KEY)</code></pre>
<p>The Total Nonfarm Payroll series we want to load is called <a href="https://fred.stlouisfed.org/series/PAYEMS">PAYEMS</a>.</p>
<p>In the code below, we just need to specify the series name and include <code>units = "chg"</code> in order to get the month-to-month change:</p>
<pre class="r"><code>fredr(series_id = &quot;PAYEMS&quot;, units = &quot;chg&quot;)</code></pre>
<pre><code>## # A tibble: 977 x 3
##    date       series_id value
##    &lt;date&gt;     &lt;chr&gt;     &lt;dbl&gt;
##  1 1939-01-01 PAYEMS       NA
##  2 1939-02-01 PAYEMS      177
##  3 1939-03-01 PAYEMS      180
##  4 1939-04-01 PAYEMS     -186
##  5 1939-05-01 PAYEMS      205
##  6 1939-06-01 PAYEMS      203
##  7 1939-07-01 PAYEMS      -83
##  8 1939-08-01 PAYEMS      244
##  9 1939-09-01 PAYEMS      368
## 10 1939-10-01 PAYEMS      380
## # ... with 967 more rows</code></pre>
<p>The first observation in dataset above, January 1939, contains a missing value since we pulled the month-to-month change and this was the first month in the series.</p>
<p>In the code below, we can replace the NA with 0 by using <code>replace(is.na(.), 0)</code> and create a new column called <code>color_assign</code> that assigns the color black to values with a positive change and red to values with a negative change in order to match the colors used within the NPR chart.</p>
<pre class="r"><code># Load the tidyverse package which contains dplyr (used below) and ggplot2 (used for creating the chart later)
library(tidyverse)

dataset &lt;- fredr(series_id = &quot;PAYEMS&quot;, units = &quot;chg&quot;) %&gt;% 
           filter(date &lt;= &quot;2020-04-01&quot;) %&gt;% 
           replace(is.na(.), 0) %&gt;% 
           mutate(value = value/1000,
                  color_assign = ifelse(value &gt; 0, &quot;black&quot;, 
                                 ifelse(value == 0, &quot;grey&quot;, &quot;red&quot;)))</code></pre>
<p><br></p>
</div>
<div id="creating-the-chart" class="section level2">
<h2>Creating the Chart</h2>
<p>The package we will use to create the chart is the <code>ggplot2</code> package.</p>
<p>Let’s start by making a basic plot of the dataset:</p>
<pre class="r"><code>ggplot(data = dataset, 
       aes(x = date, y = value, colour = color_assign, fill = color_assign)) +
  # Add columns to plot
  geom_col(width = 1) +
  theme_minimal()</code></pre>
<p><img src="/post/recreating-data-viz-pt1_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>As you can see, the <code>color_assign</code> column we created earlier matched the names of the colors to the values correctly, but did not match the colors themselves correctly. This is because the <code>ggplot2</code> package assigns the colors to categories by default, but no worries, as we can change this by manually assigning the colors as shown below:</p>
<pre class="r"><code>ggplot(data = dataset, 
       aes(x = date, y = value, colour = color_assign, fill = color_assign)) +
  geom_col(width = 1) +
  # Assign black, grey, and red colors
  scale_colour_manual(values = c(&quot;#333333&quot;,&quot;#EBEBEB&quot;,&quot;#D8472B&quot;)) +
  scale_fill_manual(values = c(&quot;#333333&quot;,&quot;#EBEBEB&quot;,&quot;#D8472B&quot;)) +
  theme_minimal()</code></pre>
<p><img src="/post/recreating-data-viz-pt1_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<div id="adding-recession-periods" class="section level3">
<h3>Adding Recession Periods</h3>
<p>In order to add the grey U.S. recession periods in the NPR chart, we first need to define the start and end dates of each recession.</p>
<p>The recession dates are available from FRED <a href="https://fredhelp.stlouisfed.org/fred/data/understanding-the-data/recession-bars/">here</a> dating back to the first recorded U.S. recession in 1857. Since our dataset starts in 1939, we just need the recession periods from everything past that date and we can put them into a table like so below:</p>
<pre class="r"><code>recession_periods = read.table(textConnection(
  &quot;Start, End
  1945-02-01, 1945-10-01
  1948-11-01, 1949-10-01
  1953-07-01, 1954-05-01
  1957-08-01, 1958-04-01
  1960-04-01, 1961-02-01
  1969-12-01, 1970-11-01
  1973-11-01, 1975-03-01
  1980-01-01, 1980-07-01
  1981-07-01, 1982-11-01
  1990-07-01, 1991-03-01
  2001-03-01, 2001-11-01
  2007-12-01, 2009-06-01&quot;), sep=&#39;,&#39;,
  colClasses=c(&#39;Date&#39;,&#39;Date&#39;), header=TRUE)

recession_periods</code></pre>
<pre><code>##         Start        End
## 1  1945-02-01 1945-10-01
## 2  1948-11-01 1949-10-01
## 3  1953-07-01 1954-05-01
## 4  1957-08-01 1958-04-01
## 5  1960-04-01 1961-02-01
## 6  1969-12-01 1970-11-01
## 7  1973-11-01 1975-03-01
## 8  1980-01-01 1980-07-01
## 9  1981-07-01 1982-11-01
## 10 1990-07-01 1991-03-01
## 11 2001-03-01 2001-11-01
## 12 2007-12-01 2009-06-01</code></pre>
<p>Now, we can add the recession periods to our plot using the <code>geom_rect</code> function and assigning a grey color code to it. Please note that the order of the below code matters. Since we want the recession periods to be displayed <i>behind</i> our data values, it needs to come before we call <code>geom_col</code> or else it will be blocking the month-to-month change columns.</p>
<pre class="r"><code>ggplot(data = dataset, 
       aes(x = date, y = value, colour = color_assign, fill = color_assign)) +
  # Add grey bars for recession periods 
  geom_rect(data = recession_periods, inherit.aes = FALSE, aes(xmin = Start, xmax = End, ymin = -Inf, ymax = +Inf), fill = &#39;#EBEBEB&#39;) +
  geom_col(width = 1) +
  scale_colour_manual(values = c(&quot;#333333&quot;,&quot;#EBEBEB&quot;,&quot;#D8472B&quot;)) +
  scale_fill_manual(values = c(&quot;#333333&quot;,&quot;#EBEBEB&quot;,&quot;#D8472B&quot;)) +
  theme_minimal()</code></pre>
<p><img src="/post/recreating-data-viz-pt1_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="cleaning-up-the-axes-and-theme" class="section level3">
<h3>Cleaning up the Axes and Theme</h3>
<p>Now that we have the data plotted, we need to match the aesthetics of the NPR chart. This includes adjusting the axes and removing the vertical lines and legend in our current plot.</p>
<p>In order to adjust the axes, we need to first assign the limits for both below:</p>
<pre class="r"><code># Assign limits for the y axis (in millions)
ylab &lt;- c(-20,-15,-10,-5,0)

# Change the x axis date range to display every 10 years
custom_breaks &lt;- c(min(dataset$date),
                   seq(from = as.Date(&quot;1940-01-01&quot;), 
                       to = as.Date(&quot;2020-01-01&quot;),
                       by = &quot;10 years&quot;),
                   max(dataset$date))</code></pre>
<p>In the code below, we’re able to add the word “million” to the y axis label within <code>scale_y_continuous</code> and use <code>scale_x_date</code> to display the <code>custom_breaks</code> correctly on the x axis.</p>
<p>We also call a number of arguments within <code>theme</code>, such as <code>panel.grid.major.x = element_blank()</code>, which removes the vertical lines seen on the plot above.</p>
<pre class="r"><code>ggplot(data = dataset, 
       aes(x = date, y = value, colour = color_assign, fill = color_assign)) +
  geom_rect(data = recession_periods, inherit.aes = FALSE, aes(xmin = Start, xmax = End, ymin = -Inf, ymax = +Inf), fill = &#39;#EBEBEB&#39;) +
  geom_col(width = 1) +
  scale_colour_manual(values = c(&quot;#333333&quot;,&quot;#EBEBEB&quot;,&quot;#D8472B&quot;)) +
  scale_fill_manual(values = c(&quot;#333333&quot;,&quot;#EBEBEB&quot;,&quot;#D8472B&quot;)) +
  # Add the word &#39;million&#39; to the y axis labels
  scale_y_continuous(labels = ifelse(ylab == 0, ylab, paste0(ylab, &#39; million&#39;))) +
  # Display dates on x axis by every 10 years
  scale_x_date(breaks = custom_breaks, labels = c(&quot;&quot;, seq(&quot;1940&quot;,&quot;2020&quot;, by=10), &quot;&quot;), expand = c(0,0,0.08,0)) +
  theme_minimal() +
  # Clean up aesthetics of chart
  theme(legend.position = &quot;none&quot;,
        axis.line.x = element_line(size = 0.5, colour = &quot;grey&quot;),
        axis.ticks.x = element_line(colour = &quot;grey&quot;),
        axis.ticks.length.x = unit(0.15, &quot;cm&quot;),
        axis.text.x = element_text(size = 8),
        axis.text.y = element_text(size = 8),
        panel.grid.minor = element_blank(),
        panel.grid.major.x = element_blank()) +
  # Remove &#39;date&#39; and &#39;value&#39; axis labels
  labs(x = &quot;&quot;, y = &quot;&quot;)</code></pre>
<p><img src="/post/recreating-data-viz-pt1_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="adding-text-labels" class="section level3">
<h3>Adding Text Labels</h3>
<p>The only thing left to do is add the text labels to the plot.</p>
<p>Each label on the NPR chart has a small dot to show exactly where the text label is pointing out. We can add these dots by using <code>geom_point</code> and then add the text to each dot using <code>geom_point</code> and filtering for each date NPR called out.</p>
<pre class="r"><code>ggplot(data = dataset, 
       aes(x = date, y = value, colour = color_assign, fill = color_assign)) +
  geom_rect(data = recession_periods, inherit.aes = FALSE, aes(xmin = Start, xmax = End, ymin = -Inf, ymax = +Inf), fill = &#39;#EBEBEB&#39;) +
  geom_col(width = 1) +
  # Add red dots to large negative values
  geom_point(data = .%&gt;% filter(date %in% as.Date(c(&quot;1945-09-01&quot;,&quot;1956-07-01&quot;,&quot;1974-12-01&quot;,&quot;2009-03-01&quot;,&quot;2020-04-01&quot;))), shape = 21, colour = &quot;white&quot;, fill = &quot;#D8472B&quot;, size = 2) +
  # Add black dot to large poisitive values
  geom_point(data = .%&gt;% filter(date %in% as.Date(&quot;1983-09-01&quot;)), shape = 21, colour = &quot;white&quot;, fill = &quot;#333333&quot;, size = 2) +
  # Add text lable for April 2020
  geom_text(data = .%&gt;% filter(date == max(date)), aes(label = paste0(&quot;April 2020\n &quot;, round(value,1),&quot;M&quot;), fontface = 2), vjust = -0.01, hjust = -0.15,  size = 3.2, color = &quot;#D8472B&quot;, family = &quot;Arial&quot;) +
  # Add text lable for September 1945
  geom_text(data = .%&gt;% filter(date == &quot;1945-09-01&quot;), aes(label = paste0(&quot;Sept. 1945\n&quot;, round(value,1),&quot;M&quot;)), vjust = 1.2, hjust = 0.05, size = 3, color = &quot;#363636&quot;, family = &quot;Arial&quot;) +
  # Add text lable for July 1956
  geom_text(data = .%&gt;% filter(date == &quot;1956-07-01&quot;), aes(label = paste0(&quot;July 1956\n&quot;, round(value*1000,1),&quot;K&quot;)), vjust = 1.2, hjust = -0.1, size = 3, color = &quot;#363636&quot;, family = &quot;Arial&quot;) +
  # Add text lable for December 1974
  geom_text(data = .%&gt;% filter(date == &quot;1974-12-01&quot;), aes(label = paste0(&quot;Dec. 1974\n&quot;, round(value*1000,1),&quot;K&quot;)), vjust = 1.2, hjust = -0.05, size = 3, color = &quot;#363636&quot;, family = &quot;Arial&quot;) +
  # Add text lable for September 1983
  geom_text(data = .%&gt;% filter(date == &quot;1983-09-01&quot;), aes(label = paste0(&quot;Sept. 1983\n+&quot;, round(value,1),&quot;M&quot;)), vjust = -0.15, hjust = 0.1, size = 3, color = &quot;#363636&quot;, family = &quot;Arial&quot;) +
  # Add text lable for March 2009
  geom_text(data = .%&gt;% filter(date == &quot;2009-03-01&quot;), aes(label = paste0(&quot;March 2009\n&quot;, round(value*1000,1),&quot;K&quot;)), vjust = 1.2, hjust = -0.05, size = 3, color = &quot;#363636&quot;, family = &quot;Arial&quot;) +
  # Add text lable for Great Recession
  geom_text(data = .%&gt;% filter(date == &quot;2008-10-01&quot;), aes(label = &quot;Great\nRecession&quot;, fontface = 3), vjust = -1.5, size = 3.2, color = &quot;#363636&quot;, family = &quot;Arial&quot;) +
  scale_colour_manual(values = c(&quot;#333333&quot;,&quot;#EBEBEB&quot;,&quot;#D8472B&quot;)) +
  scale_fill_manual(values = c(&quot;#333333&quot;,&quot;#EBEBEB&quot;,&quot;#D8472B&quot;)) +
  scale_y_continuous(labels = ifelse(ylab == 0, ylab, paste0(ylab, &#39; million&#39;))) +
  scale_x_date(breaks = custom_breaks, labels = c(&quot;&quot;, seq(&quot;1940&quot;,&quot;2020&quot;, by=10), &quot;&quot;), expand = c(0,0,0.08,0)) +
  theme_minimal() +
  theme(legend.position = &quot;none&quot;,
        axis.line.x = element_line(size = 0.5, colour = &quot;grey&quot;),
        axis.ticks.x = element_line(colour = &quot;grey&quot;),
        axis.ticks.length.x = unit(0.15, &quot;cm&quot;),
        axis.text.x = element_text(size = 8),
        axis.text.y = element_text(size = 8),
        panel.grid.minor = element_blank(),
        panel.grid.major.x = element_blank()) +
  labs(x = &quot;&quot;, y = &quot;&quot;)</code></pre>
</div>
<div id="final-result" class="section level3">
<h3>Final Result</h3>
<p><img src="/img/payroll_plot.PNG" /></p>
<p>And there’s our final result. Here’s the plot from NPR again for reference. May not be an exact match but it’s pretty close!</p>
<p><img src="/img/source_payroll_plot.PNG" /></p>
<p>Thank you for following along and stay tuned for more attempts to re-create data visualizations seen on the internet!</p>
</div>
</div>

    </div>

    







<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/recreating-data-viz-pt1/&amp;text=Re-Creating%20Data%20Visualizations%20Seen%20on%20the%20Internet%20-%20Part%201" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/recreating-data-viz-pt1/&amp;t=Re-Creating%20Data%20Visualizations%20Seen%20on%20the%20Internet%20-%20Part%201" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Re-Creating%20Data%20Visualizations%20Seen%20on%20the%20Internet%20-%20Part%201&amp;body=/post/recreating-data-viz-pt1/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/recreating-data-viz-pt1/&amp;title=Re-Creating%20Data%20Visualizations%20Seen%20on%20the%20Internet%20-%20Part%201" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Re-Creating%20Data%20Visualizations%20Seen%20on%20the%20Internet%20-%20Part%201%20/post/recreating-data-viz-pt1/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/recreating-data-viz-pt1/&amp;title=Re-Creating%20Data%20Visualizations%20Seen%20on%20the%20Internet%20-%20Part%201" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  






  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu034a090529edd1cdaabb56a00244bda6_151835_270x270_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="/">Kyle Cuilla</a></h5>
      <h6 class="card-subtitle">Lead Quantitative Analyst <br> MPS Data Analytics</h6>
      
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/kylecuilla" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/kcuilla" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>









  
  



  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js" integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.c4716762638572b143da1c828c87dcd8.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    
      <a href="/privacy/">Privacy Policy</a>
    
    
       &middot; 
      <a href="/terms/">Terms</a>
    
  </p>
  

  <p class="powered-by">
    © 2020 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
